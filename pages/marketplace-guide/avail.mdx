import { Callout } from "nextra-theme-docs";
import Navigation from "components/navigation";
import VideoPlayer from "components/video-player";

# How to deploy an Avail Validator Node?

<VideoPlayer embedId="Nyf1YGy3xL8" />

<Callout type="info">
  **NOTE:** Spheron Compute offers the flexibility to create custom
  configurations for your instance.
</Callout>

Spheron allows you to deploy a compute instance pre-installed with Avail, all set up and ready to use.
To deploy a Avail validator node:

1. Follow [the steps](https://blog.spheron.network/running-an-avail-validator-node-using-spheron#heading-step-1-create-a-free-spheron-network-account) to create a Free Spheron Network Account  
2. Upon logging in, you'll be directed to the Create Organization page, where you can give your organization name and choose Avatar. Ensure the **"Compute"** option is selected from the drop-down menu of the **"Start With"** option. Click 'Continue'. 
3. Next, you'll be taken to a new page. Click the **"Create New Projects"** button. Add 'Project Title' And 'Project Description' and Click 'Create'.
4. Choose **"Compute"** to use CPU-based instances for running containers.
5. Choose your desired Compute Type option under **Compute Type**.
6. Click **"Start from Marketplace App"** and Select **"Avail Validator Node"** from the marketplace.
7. When selecting a region, we recommend starting by trying to deploy in a region closer to you. If you encounter any issues, you can consider switching to other regions. Choosing a region closer to you can improve performance and reduce latency. [Click here](/compute/cluster/compute/#region) to know more.
8. Spheron will automatically select the recommended plan for the specific template. If you intend to move forward with the recommended plan, just Click 'Deploy' to initiate deployment.
9. If you want you can Select the instance plan that suits your needs. You can use the **"Create Custom Plan"** toggle to create custom plans for your CPU based instance.
10. You have to choose storage from the available options or the custom storage option that fits your needs. This storage will be volatile and is erased when the instance is restarted, redeployed, or shut down. Additionally, you get the option to choose Persistent Storage.
11. Next, you will see the configuration section. Go to the 'Advanced Configuration' section. Add your node name to the argument. Ex. "–-name=potato-depl"
    You can add more advanced configuration if required. [Click here](/compute/cluster/compute/#advance-configuration-1) to know more.
12. Click "Deploy" to initiate deployment.

<Callout type="info">
**NOTE:** Wait for your node to be fully set up. After it's provisioned, you'll see an option called ‘Overview’ in the dashboard; click on it to see all the details of the deployed node.
</Callout>

## Deploy Your Own

Deploy your own Avail Validator Node with Spheron:

[![Deploy with Spheron](https://bafybeihxqi3jlv6cy2ogh6jjljinntisolbspxcrbgykyv6e5xyzujl3aa.ipfs.sphn.link/spheron-deploy.svg)](https://app.spheron.network/#/compute/marketplace?template=Avail%20Validator%20Node&templateId=65a19ba56b10d3a51881cedd)

## Verify Installation

- The Avail Validator Node can be accessed only after the Compute Instance is provisioned.
  Thus, you need to wait for the installation to complete before you can start using it.
- As the node starts, the **Instance Logs** will display the output about the operations performed. If you see messages that blocks are being proposed and finalized, you have a running node.

```
2023-11-07 17:32:02 Avail Node
2023-11-07 17:32:02 ✌️  version 1.8.0-9c5f37b9230
2023-11-07 17:32:02 ❤️  by Anonymous, 2017-2023
2023-11-07 17:32:02 📋 Chain specification: Avail Goldberg Testnet
2023-11-07 17:32:02 🏷  Node name: abusive-foot-8197
2023-11-07 17:32:02 👤 Role: AUTHORITY
2023-11-07 17:32:02 💾 Database: RocksDb at /tmp/substratex6JdRn/chains/avail_goldberg_testnet/db/full
2023-11-07 17:32:03 🔨 Initializing Genesis block/state (state: 0x6bc7…ec83, header-hash: 0x6f09…a7ae)
2023-11-07 17:32:03 👴 Loading GRANDPA authority set from genesis on what appears to be first startup.
2023-11-07 17:32:03 👶 Creating empty BABE epoch changes on what appears to be first startup.
2023-11-07 17:32:03 🏷  Local node identity is: 12D3KooWFtjJFk9e5qS4jNWTPSUhTcpSLzeY25P3MeAhzDg6PHwd
2023-11-07 17:32:03 Prometheus metrics extended with avail metrics
2023-11-07 17:32:03 💻 Operating system: linux
2023-11-07 17:32:03 💻 CPU architecture: x86_64
2023-11-07 17:32:03 💻 Target environment: gnu
2023-11-07 17:32:03 💻 CPU: 13th Gen Intel(R) Core(TM) i7-13700K
2023-11-07 17:32:03 💻 CPU cores: 16
2023-11-07 17:32:03 💻 Memory: 31863MB
2023-11-07 17:32:03 💻 Kernel: 6.5.8-100.fc37.x86_64
2023-11-07 17:32:03 💻 Linux distribution: Fedora Linux 37 (Workstation Edition)
```

- Your node will also appear on the [Avail Telemetry website](https://telemetry.avail.tools/), listed under the name you have assigned during the deployment.

### How to update the name and the chain details?

You can follow these steps to update the name and the chain details for your avail validator node:

1. Navigate to the "Settings" tab from the instance page.
2. Click "Update Instance" at the bottom.
3. Update the name and the chain details under arguments in advanced configuration.
4. Click "Update" to update deployment.

<Callout type="info">
Before becoming an active validator, you need to bond your funds to your node. This involves creating two separate Avail accounts: a stash account for holding your funds and a controller account for managing staking actions. [Please refer to Avail docs](https://docs.availproject.org/operate/validator/staking/) for elaborate details. 
Or follow our blog from [step 6.](https://blog.spheron.network/running-an-avail-validator-node-using-spheron#heading-step-6-create-a-stash-and-a-controller-account)
</Callout>

For more information, refer to the [Avail docs](https://docs.availproject.org/docs/operate-a-node/become-a-validator/stake-your-validator).

<Navigation name="Deploy Avail Validator Node" />
